.\" Manual page for xcfinfo
.\" This file was written by Henning Makholm <henning@makholm.net>
.\" It is hereby in the public domain.
.\" 
.\" In jurisdictions that do not recognise grants of copyright to the
.\" public domain: I, the author and (presumably, in those jurisdictions)
.\" copyright holder, hereby permit anyone to distribute and use this code,
.\" in source code or binary form, with or without modifications. This
.\" permission is world-wide and irrevocable.
.\"
.\" Of course, I will not be liable for any errors or shortcomings in the
.\" code, since I give it away without asking any compenstations.
.\"
.\" If you use or distribute this code, I would appreciate receiving
.\" credit for writing it, in whichever way you find proper and customary.
.TH xcfinfo 1 2006-02-12 "Xcftools" ""
.SH NAME
xcfinfo \- display information about GIMP xcf files
.ds p xcfinfo
.SH SYNOPSIS
.B \*p
[
.I options
]
.I filename
.SH DESCRIPTION
.B xcfinfo
is a command-line tool that displays information about the contents of
image files in the XCF format used by
.BR gimp (1),
particularly about the layers in the image.
.SH OPTIONS
.TP 8
\fB\-h\fR, \fB--help\fR
Print an option summery to standard output and exit with a
return code of 0.
.TP 8
\fB\-j\fR, \fB--bzip\fR
Equivalent to
.BR "\-Z bzcat" .
Default if the filename ends with
.BR bz2 .
.TP 8
\fB\-p\fR \fIstring\fR, \fB--path-separator\fR \fIstring\fR
This string will be used to separate the name of the containing groups
when manipulating layers.
.TP 8
\fB\-u\fR, \fB--utf8\fR
Use the raw UTF-8 representation from the XCF file to compare
and display layer names.
Ordinarily, layer names will be converted to the character set
of the current locale.
.TP 8
\fB\-v\fR, \fB--verbose\fR
Print progress messages about the conversion to standard error.
.TP 8
\fB\-V\fR, \fB--version\fR
Print the version numer of
.B xcftools
to standard output and exit with a return code of 0.
.TP 8
\fB\-z\fR, \fB--gzip\fR
Equivalent to
.BR "\-Z zcat" .
Default if the filename ends with
.BR gz .
.TP 8
\fB\-Z\fR \fIcommand\fR, \fB--unpack\fR \fIcommand\fR
Specify a command that the input file is filtered through
before being interpreted as an XCF file. The command is invoked as
.I command filename
and must produce output to its standard output.
Note that it is not possible to specify arguments as part of
.IR command .
An uncompressor is selected automatically if the filename ends
with
.B gz
or
.BR bz2 ;
to suppress this, use
.B \-Z cat
(which is implemented without actually starting a
.BR cat (1)
process).
.SH OUTPUT
Information about the image is displayed on standard output in a fixed format.
The first line contains general information about the XCF file:
.TP 3
\-
The file format version
.TP
\-
The canvas size
.TP
\-
The image mode (color, grayscale, or indexed)
.TP
\-
The numer of layers
.TP
\-
The internal compression algorithm
.P
Following this line there is a line for each layer:
.TP 3
1)
The character
.B +
if the layer is visible and
.B \-
if it is not
.TP
2)
The size and offset of the layer
.TP
3)
The pixel format of the layer, including whether the
layer has an alpha channel.
.TP
4)
The layer mode, as well as the opacity if not 100%, and
.B /mask
if the layer has an active layer mask.
.TP
5)
The name of the layer.
.SH EXIT STATUS
The exit status of
.B \*p
is
.TP 5
0
Success
.TP
20
.\"---
Problems parsing the command line.
.\"---
.TP
21
The specified XCF file does not exist or cannot be read.
.\"---
.\"---
.\"---
.TP
123
The XCF file contains presumably valid features that
.B xcftools
does not support.
(As of this writing there is no known way of getting the Gimp to write
an XCF file that will provoke this return. Please notify the author if you
discover one).
.TP
125
The XCF file is malformed.
.TP
126
An uncompression program could not be executed, or terminated
abnormally.
.TP
127
Unexpected I/O error, internal errors, or other "this can't happen"
situations.
.P
If an uncompression program returns an error exit status, this will
be returned from
.B \*p
too.
.SH AUTHOR
.B \*p
was written by Henning Makholm <henning@makholm.net>.
.P
.SH SEE ALSO
.BR xcf2pnm (1),
.BR xcf2png (1)
